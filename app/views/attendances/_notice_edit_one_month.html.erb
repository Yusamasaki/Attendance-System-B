<% provide(:class_text, 'notice-edit-one-month') %>
<% provide(:button_text, '勤怠を申請する') %>

<div class="modal-dialog modal-lg modal-dialog-center">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <h1 class="modal-title"><%= @user.name %>からの勤怠変更申請</h1>
    </div>
    <div class="modal-body">
      <%= form_with(model: @attendance, url: attendances_update_one_month_user_path, local: true) do |f| %>

      <table class="table table-bordered table-overwork">
        <thead>
          <tr>
            <th rowspan = "3">日付</th>
            <th rowspan = "3">曜日</th>
            <th colspan = "4">変更前</th>
            <th colspan = "4">変更後</th>
            <th rowspan = "2">備考</th>
            <th rowspan = "2">指示者確認㊞</th>
            <th rowspan = "2">変更</th>
            <th rowspan = "2">勤怠を確認する</th>
          </tr>
          <tr>
            <th colspan = "2">出社</th>
            <th colspan = "2">退社</th>
            <th colspan = "2">出社</th>
            <th colspan = "2">退社</th>
          </tr>
        </thead>
        
        <tbody>
          <% @attendances.each do |day| %>
          <tr>
            <td><%= l(day.worked_on, format: :short) %></td>
            <td><%= $days_of_the_week[day.worked_on.wday] %></td>
            <td><%= day.started_at %></td>
            <td><%= day.started_at %></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td><%= day.note %></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <% end %>
        </tbody>
      </table>
    <div class="center">
      <%= f.submit yield(:button_text), class: "btn btn-primary" %>
    </div>
      <% end %>
  </div>
</div>